Oluwatimilehin Bello explained their current NFT tracking system and raised concerns about voucher emission delays and interacting with separate smart contracts for asset transfers. Chinonso Idogwu proposed a marketplace smart contract architecture to handle NFT buying and selling, owning 90% of minted tokens, and interacting directly with Cartesia to record details without vouchers, addressing the delay issue. Oluwatimilehin Bello will implement the marketplace, pool, and factory smart contracts and present the project next Monday, with a preliminary review on Friday.

Details
NFT Tracking and Vouchers Oluwatimilehin Bello explained their current NFT tracking system, where artist tokens (1155 or 721) are tracked on Cartesia by saving them in storage and emitting vouchers. Chinonso Idogwu questioned the specific need for emitting vouchers and the flow of the process (00:00:00). Oluwatimilehin Bello demonstrated the flow where users upload music, create NFTs, and manage them, noting that previously created NFTs are no longer visible for creation (00:01:07). Oluwatimilehin Bello also stated that they cap the price of tokens using a config and that all sales and purchases are tracked in notices (00:02:49).
Smart Contract Interaction Concerns Oluwatimilehin Bello expressed confusion about the necessity of interacting with a separate smart contract for asset transfer, especially regarding the approval process for deposits like subscriptions (00:05:51). They questioned whether everything could be handled directly on Cartesia, with payments processed via ERC-20 approval and then minted on Cartesia, rather than using vouchers for transfers (00:07:17). Oluwatimilehin Bello showed their backend code, specifically the `mintTrackNFT` function, which stores minting data but struggles with voucher emission (00:08:25).
Voucher Emission Delays Chinonso Idogwu highlighted that emitting a voucher would result in a seven-day delay for the artist to receive their NFT on the base layer. While Oluwatimilehin Bello acknowledged this and confirmed they were saving the minting data on Cartesia to allow artists to see their NFTs immediately, Chinonso Idogwu still considered the delay too long (00:10:36).
Proposed Marketplace Smart Contract Architecture Chinonso Idogwu suggested implementing a marketplace smart contract to handle NFT buying and selling, acting as a microservice for user tokens (00:11:32). This marketplace contract would directly call the Cartesia backend to record details, eliminating the need to emit vouchers and ensuring artists receive NFTs instantly. This approach would also unify token amounts and allow pricing to be determined by song performance rather than arbitrary artist settings (00:12:46).
Marketplace Ownership and Liquidity Pool Chinonso Idogwu further elaborated that the marketplace would own 90% of the minted tokens, with 10% transferred to the artist's wallet, creating a liquidity pool for user purchases. The marketplace would automate transfers to users, removing the need for artists to manually release tokens (00:13:52). Oluwatimilehin Bello sought clarification on whether a single marketplace contract would handle both 721 and 1155 NFTs, to which Chinonso Idogwu confirmed it could (00:15:06).
User Interaction with Marketplace Chinonso Idogwu explained the proposed flow: artists interact directly with the marketplace contract to create NFTs, signing transactions with their wallets. The marketplace contract would then interact with an NFT factory to deploy new NFT contracts for the artist, transferring 10% of the minted tokens to the artist and the remaining 90% to a marketplace-controlled liquidity pool (00:16:05). Finally, the marketplace would call the Cartesia input box to record these details, ensuring the backend is updated without vouchers (00:17:41).
Marketplace Interaction with Cartesia Oluwatimilehin Bello confirmed their understanding that the marketplace would interact with an NFT factory, which handles token transfers to artists and the marketplace (00:20:02). They also clarified that the marketplace would be the entity interacting with Cartesia, rather than the NFT smart contract deployed by the factory. Chinonso Idogwu emphasized that a single, verified marketplace address would call Cartesia's input box, providing a controlled and verifiable way to send records to the application (00:21:10).
No Approval Needed for Users Chinonso Idogwu clarified that users would not need to approve transactions since they do not own the NFT token at the point of minting, with everything happening in one function under the hood. Oluwatimilehin Bello inquired about a private key for marketplace interaction, but Chinonso Idogwu stated that the artist must be the one to call the marketplace (00:23:20). To restrict NFT creation, Chinonso Idogwu suggested whitelisting artist addresses on the marketplace or using a separate contract to verify if a caller is an artist (00:24:21).
Separation of NFT Types and Data Reading Oluwatimilehin Bello confirmed understanding that the marketplace can separate the minting process for 721 and 1155 NFTs based on artist selection. They also clarified that the marketplace, holding 90% of the tokens, would call the input box to record the details, and data could be read directly from the marketplace smart contract without needing notices (00:25:23) (00:54:29).
Marketplace and Input Box Interaction Chinonso Idogwu explained that the marketplace smart contract would make a Solidity call to the Cartesia input box's Solidity contract. This is similar to how the portal contract interacts with the input box for ERC-20 deposits. Chinonso Idogwu demonstrated the `depositERC20Token` `https://github.com/cartesi/rollups-contracts/blob/main/src/portals/ERC20Portal.sol` function in the portal contract, which calls `inputBox.addInput` after handling token transfers, providing a template for the marketplace's interaction with the input box (00:32:35) (00:35:48).
Input Box Address and Frontend Integration Oluwatimilehin Bello confirmed their understanding that the input box address, already hardcoded in their frontend for user interactions, would be used by the marketplace contract to call the input box (00:38:07). This means the marketplace would build a payload and call the `addInput` function, just as the frontend does for user interactions (00:37:00) (00:39:18).
Liquidity Pool vs. Direct Artist Wallet Transfers Oluwatimilehin Bello suggested sending purchase proceeds to a Melodious vault/pool and updating the artist's Cartesia balance rather than directly to the artist's wallet. Chinonso Idogwu countered that this would be too centralized and tie artist profits to the platform, making it difficult for artists to withdraw funds if the platform goes down (00:41:36) (00:44:06). They advocated for a decentralized liquidity pool for each NFT, allowing artists to withdraw funds independently and track performance (00:45:04).
Advantages of Decentralized Pools Chinonso Idogwu emphasized that separate liquidity pools for each song or album would provide better accountability and data analysis for artists, allowing them to track income per song (00:47:25). They also highlighted that this decentralized approach would benefit artists with management teams, allowing management to control specific song pools without issues if an artist switches management or labels (00:52:35). The marketplace would act as a centralized point for tracking all these pools (00:53:31).
Project Completion and Final Presentation Oluwatimilehin Bello indicated that they are nearing completion of the project, focusing on creating necessary smart contracts for the marketplace functionality (00:57:31). They proposed a final presentation for next week Monday, with a preliminary review on Friday, after implementing minor changes based on feedback (00:58:35). Chinonso Idogwu agreed, emphasizing that the project should migrate to V2 before any public deployment or community testing to avoid testing an outdated implementation (00:59:40).
V2 Deployment and Community Testing Chinonso Idogwu clarified that the V2 version needs to be deployed before public testing, expecting significant stress testing and feedback from the community, which will provide valuable data on user flow. Oluwatimilehin Bello noted that they should expect testing to last at least two weeks (00:59:40). Chinonso Idogwu also advised Oluwatimilehin Bello to consider how their platform will manage piracy, as this is a concern the community is likely to raise (01:00:38).
Grant Status and Future Opportunities Chinonso Idogwu confirmed that all running grants have been closed, and Oluwatimilehin Bello's project is the last one currently granted. However, they explained that once Node V2 is fully active, there will be new user acquisition programs, including future grant opportunities (01:02:04). Chinonso Idogwu highlighted that positive community feedback, reviews, and marketing efforts could significantly benefit the project's visibility and future grant applications on other base layers like Optimism or Base (01:03:09).
Implementation of Smart Contracts and Next Steps Oluwatimilehin Bello confirmed they would implement the required smart contracts, including those for the marketplace, the pool, and the factory contract, along with their functionalities. They plan to contact Chinonso Idogwu on Thursday to schedule a meeting for Friday to discuss progress. Chinonso Idogwu also recommended looking into Jamit, a Nigerian platform on Starknet that performs similar functions, as a potential example for their project's growth (01:05:30).
